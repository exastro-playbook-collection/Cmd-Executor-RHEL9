---
- name: ansible.builtin.command. ({{ parameter.cmd }})
  ansible.builtin.command:
    cmd: "{{ parameter.cmd }}"
    chdir: "{{ parameter.chdir if parameter.chdir is defined and parameter.chdir is not none else omit }}"
  when:
  - parameter.type is defined
  - parameter.type == 'command'

- name: ansible.builtin.shell. ({{ parameter.cmd }})
  ansible.builtin.shell:
    cmd: "{{ parameter.cmd }}"
    chdir: "{{ parameter.chdir if parameter.chdir is defined and parameter.chdir is not none else omit }}"
    executable: "{{ parameter.executable if parameter.executable is defined and parameter.executable is not none else omit }}"
  when:
  - parameter.type is defined
  - parameter.type == 'shell'

- name: file upload. ({{ parameter.path }})
  ansible.builtin.copy:
    src: "{{ parameter.file }}"
    dest: "{{ parameter.path }}"
  when:
  - parameter.type is defined
  - parameter.type == 'upload'